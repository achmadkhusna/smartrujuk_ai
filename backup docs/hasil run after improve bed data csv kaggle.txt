PS C:\Users\myaasiinh\Vscode\tubes-biomedis-tema2-smart-rujuk-agent-ai> 
 *  History restored 

PS C:\Users\myaasiinh\Vscode\tubes-biomedis-tema2-smart-rujuk-agent-ai> python database/load_all_datasets.py --download-first
INFO:__main__:Downloading datasets first...
INFO:database.dataset_downloader:Dataset downloader initialized. Data directory: C:\Users\myaasiinh\Vscode\tubes-biomedis-tema2-smart-rujuk-agent-ai\data\kaggle_datasets
INFO:database.dataset_downloader:============================================================
INFO:database.dataset_downloader:SmartRujuk+ Dataset Downloader
INFO:database.dataset_downloader:============================================================
INFO:database.dataset_downloader:
[1/2] Downloading BPJS Faskes dataset...
INFO:database.dataset_downloader:âœ… Dataset already exists: C:\Users\myaasiinh\Vscode\tubes-biomedis-tema2-smart-rujuk-agent-ai\data\kaggle_datasets\Data Faskes BPJS 2019.csv
INFO:database.dataset_downloader:
[2/2] Downloading Bed Ratio dataset...
INFO:database.dataset_downloader:âœ… All bed ratio dataset files already exist
INFO:database.dataset_downloader:
============================================================
INFO:database.dataset_downloader:Download Summary:
INFO:database.dataset_downloader:============================================================
INFO:database.dataset_downloader:Total files downloaded/available: 4
INFO:database.dataset_downloader:
bpjs_faskes:
INFO:database.dataset_downloader:  âœ… Data Faskes BPJS 2019.csv
INFO:database.dataset_downloader:
bed_ratio:
INFO:database.dataset_downloader:  âœ… Rasio Bed To Population Rumah Sakit Kelas C dan D tiap Provinsi Di Indonesia.csv
INFO:database.dataset_downloader:  âœ… data_rs.csv
INFO:database.dataset_downloader:  âœ… Jumlah Penduduk Hasil Proyeksi Menurut Provinsi dan Jenis Kelamin.xlsx
INFO:database.dataset_downloader:
============================================================
INFO:database.dataset_downloader:Next steps:
INFO:database.dataset_downloader:============================================================      
INFO:database.dataset_downloader:Run the data loader to import datasets into database:
INFO:database.dataset_downloader:  python database/load_all_datasets.py
INFO:database.dataset_downloader:============================================================      
INFO:__main__:
INFO:database.dataset_downloader:Dataset downloader initialized. Data directory: C:\Users\myaasiinh\Vscode\tubes-biomedis-tema2-smart-rujuk-agent-ai\data\kaggle_datasets
INFO:__main__:
============================================================
INFO:__main__:SmartRujuk+ Data Pipeline
INFO:__main__:============================================================
INFO:__main__:Started at: 2025-10-10 21:01:45
INFO:__main__:Setting up database tables...
INFO:mysql.connector:package: mysql.connector.plugins
INFO:mysql.connector:plugin_name: mysql_native_password
INFO:mysql.connector:AUTHENTICATION_PLUGIN_CLASS: MySQLNativePasswordAuthPlugin
INFO:__main__:âœ… Database tables created/verified
INFO:__main__:
============================================================
INFO:__main__:Loading BPJS Faskes Dataset
INFO:__main__:============================================================
INFO:__main__:Loading: Data Faskes BPJS 2019.csv
INFO:src.csv_loader:Loading BPJS Faskes data from C:\Users\myaasiinh\Vscode\tubes-biomedis-tema2-smart-rujuk-agent-ai\data\kaggle_datasets\Data Faskes BPJS 2019.csv
INFO:src.csv_loader:Successfully read CSV with utf-8 encoding
INFO:src.csv_loader:Loaded 29157 rows from CSV
INFO:src.csv_loader:Columns: NoLink, Provinsi, KotaKab, Link, TipeFaskes, No, KodeFaskes, NamaFaskes, LatLongFaskes, AlamatFaskes, TelpFaskes
INFO:src.csv_loader:Filtered from 29157 to 17537 rows by facility type
INFO:src.csv_loader:Progress: 100 hospitals loaded...
INFO:src.csv_loader:Progress: 200 hospitals loaded...
INFO:src.csv_loader:Progress: 300 hospitals loaded...
INFO:src.csv_loader:Progress: 400 hospitals loaded...
INFO:src.csv_loader:Progress: 500 hospitals loaded...
INFO:src.csv_loader:Progress: 600 hospitals loaded...
INFO:src.csv_loader:Progress: 700 hospitals loaded...
INFO:src.csv_loader:Progress: 800 hospitals loaded...
INFO:src.csv_loader:Progress: 900 hospitals loaded...
INFO:src.csv_loader:Progress: 1000 hospitals loaded...
INFO:src.csv_loader:Progress: 1100 hospitals loaded...
INFO:src.csv_loader:Progress: 1200 hospitals loaded...
INFO:src.csv_loader:Progress: 1300 hospitals loaded...
INFO:src.csv_loader:Progress: 1400 hospitals loaded...
INFO:src.csv_loader:Progress: 1500 hospitals loaded...
INFO:src.csv_loader:Progress: 1600 hospitals loaded...
INFO:src.csv_loader:Progress: 1700 hospitals loaded...
INFO:src.csv_loader:Progress: 1800 hospitals loaded...
INFO:src.csv_loader:Progress: 1900 hospitals loaded...
INFO:src.csv_loader:Progress: 2000 hospitals loaded...
INFO:src.csv_loader:Progress: 2100 hospitals loaded...
INFO:src.csv_loader:Progress: 2200 hospitals loaded...
INFO:src.csv_loader:Progress: 2300 hospitals loaded...
INFO:src.csv_loader:Progress: 2400 hospitals loaded...
INFO:src.csv_loader:Progress: 2500 hospitals loaded...
INFO:src.csv_loader:Progress: 2600 hospitals loaded...
INFO:src.csv_loader:Progress: 2700 hospitals loaded...
INFO:src.csv_loader:Progress: 2800 hospitals loaded...
INFO:src.csv_loader:Progress: 2900 hospitals loaded...
INFO:src.csv_loader:Progress: 3000 hospitals loaded...
INFO:src.csv_loader:Progress: 3100 hospitals loaded...
INFO:src.csv_loader:Progress: 3200 hospitals loaded...
INFO:src.csv_loader:Progress: 3300 hospitals loaded...
INFO:src.csv_loader:Progress: 3400 hospitals loaded...
INFO:src.csv_loader:Progress: 3500 hospitals loaded...
INFO:src.csv_loader:Progress: 3600 hospitals loaded...
INFO:src.csv_loader:Progress: 3700 hospitals loaded...
INFO:src.csv_loader:Progress: 3800 hospitals loaded...
INFO:src.csv_loader:Progress: 3900 hospitals loaded...
INFO:src.csv_loader:Progress: 4000 hospitals loaded...
INFO:src.csv_loader:Progress: 4100 hospitals loaded...
INFO:src.csv_loader:Progress: 4200 hospitals loaded...
INFO:src.csv_loader:Progress: 4300 hospitals loaded...
INFO:src.csv_loader:Progress: 4400 hospitals loaded...
INFO:src.csv_loader:Progress: 4500 hospitals loaded...
INFO:src.csv_loader:Progress: 4600 hospitals loaded...
INFO:src.csv_loader:Progress: 4700 hospitals loaded...
INFO:src.csv_loader:Progress: 4800 hospitals loaded...
INFO:src.csv_loader:Progress: 4900 hospitals loaded...
INFO:src.csv_loader:Progress: 5000 hospitals loaded...
INFO:src.csv_loader:Progress: 5100 hospitals loaded...
INFO:src.csv_loader:Progress: 5200 hospitals loaded...
INFO:src.csv_loader:Progress: 5300 hospitals loaded...
INFO:src.csv_loader:Progress: 5400 hospitals loaded...
INFO:src.csv_loader:Progress: 5500 hospitals loaded...
INFO:src.csv_loader:Progress: 5600 hospitals loaded...
INFO:src.csv_loader:Progress: 5700 hospitals loaded...
INFO:src.csv_loader:Progress: 5800 hospitals loaded...
INFO:src.csv_loader:Progress: 5900 hospitals loaded...
INFO:src.csv_loader:Progress: 6000 hospitals loaded...
INFO:src.csv_loader:Progress: 6100 hospitals loaded...
INFO:src.csv_loader:Progress: 6200 hospitals loaded...
INFO:src.csv_loader:Progress: 6300 hospitals loaded...
INFO:src.csv_loader:Progress: 6400 hospitals loaded...
INFO:src.csv_loader:Progress: 6500 hospitals loaded...
INFO:src.csv_loader:Progress: 6600 hospitals loaded...
INFO:src.csv_loader:Progress: 6700 hospitals loaded...
INFO:src.csv_loader:Progress: 6800 hospitals loaded...
INFO:src.csv_loader:Progress: 6900 hospitals loaded...
INFO:src.csv_loader:Progress: 7000 hospitals loaded...
INFO:src.csv_loader:Progress: 7100 hospitals loaded...
INFO:src.csv_loader:Progress: 7200 hospitals loaded...
INFO:src.csv_loader:Progress: 7300 hospitals loaded...
INFO:src.csv_loader:Progress: 7400 hospitals loaded...
INFO:src.csv_loader:Progress: 7500 hospitals loaded...
INFO:src.csv_loader:Progress: 7600 hospitals loaded...
INFO:src.csv_loader:Progress: 7700 hospitals loaded...
INFO:src.csv_loader:Progress: 7800 hospitals loaded...
INFO:src.csv_loader:Progress: 7900 hospitals loaded...
INFO:src.csv_loader:Progress: 8000 hospitals loaded...
INFO:src.csv_loader:Progress: 8100 hospitals loaded...
INFO:src.csv_loader:Progress: 8200 hospitals loaded...
INFO:src.csv_loader:Progress: 8300 hospitals loaded...
INFO:src.csv_loader:Progress: 8400 hospitals loaded...
INFO:src.csv_loader:Progress: 8500 hospitals loaded...
INFO:src.csv_loader:Progress: 8600 hospitals loaded...
INFO:src.csv_loader:Progress: 8700 hospitals loaded...
INFO:src.csv_loader:Progress: 8800 hospitals loaded...
INFO:src.csv_loader:Progress: 8900 hospitals loaded...
INFO:src.csv_loader:Progress: 9000 hospitals loaded...
INFO:src.csv_loader:Progress: 9100 hospitals loaded...
INFO:src.csv_loader:Progress: 9200 hospitals loaded...
INFO:src.csv_loader:Progress: 9300 hospitals loaded...
INFO:src.csv_loader:Progress: 9400 hospitals loaded...
INFO:src.csv_loader:Progress: 9500 hospitals loaded...
INFO:src.csv_loader:Progress: 9600 hospitals loaded...
INFO:src.csv_loader:Progress: 9700 hospitals loaded...
INFO:src.csv_loader:Progress: 9800 hospitals loaded...
INFO:src.csv_loader:Progress: 9900 hospitals loaded...
INFO:src.csv_loader:Progress: 10000 hospitals loaded...
INFO:src.csv_loader:Progress: 10100 hospitals loaded...
INFO:src.csv_loader:Progress: 10200 hospitals loaded...
INFO:src.csv_loader:Progress: 10300 hospitals loaded...
INFO:src.csv_loader:Progress: 10400 hospitals loaded...
INFO:src.csv_loader:Progress: 10500 hospitals loaded...
INFO:src.csv_loader:Progress: 10600 hospitals loaded...
INFO:src.csv_loader:Progress: 10700 hospitals loaded...
INFO:src.csv_loader:Progress: 10800 hospitals loaded...
INFO:src.csv_loader:Progress: 10900 hospitals loaded...
INFO:src.csv_loader:Progress: 11000 hospitals loaded...
INFO:src.csv_loader:Progress: 11100 hospitals loaded...
INFO:src.csv_loader:Progress: 11200 hospitals loaded...
INFO:src.csv_loader:Progress: 11300 hospitals loaded...
INFO:src.csv_loader:Progress: 11400 hospitals loaded...
INFO:src.csv_loader:Progress: 11500 hospitals loaded...
INFO:src.csv_loader:Progress: 11600 hospitals loaded...
INFO:src.csv_loader:Progress: 11700 hospitals loaded...
INFO:src.csv_loader:Progress: 11800 hospitals loaded...
INFO:src.csv_loader:Progress: 11900 hospitals loaded...
INFO:src.csv_loader:Progress: 12000 hospitals loaded...
INFO:src.csv_loader:Progress: 12100 hospitals loaded...
INFO:src.csv_loader:Progress: 12200 hospitals loaded...
INFO:src.csv_loader:Progress: 12300 hospitals loaded...
INFO:src.csv_loader:Progress: 12400 hospitals loaded...
INFO:src.csv_loader:Progress: 12500 hospitals loaded...
INFO:src.csv_loader:Progress: 12600 hospitals loaded...
INFO:src.csv_loader:Progress: 12700 hospitals loaded...
INFO:src.csv_loader:Progress: 12800 hospitals loaded...
INFO:src.csv_loader:Progress: 12900 hospitals loaded...
INFO:src.csv_loader:Progress: 13000 hospitals loaded...
INFO:src.csv_loader:Progress: 13100 hospitals loaded...
INFO:src.csv_loader:Progress: 13200 hospitals loaded...
INFO:src.csv_loader:Progress: 13300 hospitals loaded...
INFO:src.csv_loader:Progress: 13400 hospitals loaded...
INFO:src.csv_loader:Progress: 13500 hospitals loaded...
INFO:src.csv_loader:Progress: 13600 hospitals loaded...
INFO:src.csv_loader:Progress: 13700 hospitals loaded...
INFO:src.csv_loader:Progress: 13800 hospitals loaded...
INFO:src.csv_loader:Progress: 13900 hospitals loaded...
INFO:src.csv_loader:Progress: 14000 hospitals loaded...
INFO:src.csv_loader:Progress: 14100 hospitals loaded...
INFO:src.csv_loader:Progress: 14200 hospitals loaded...
INFO:src.csv_loader:Progress: 14300 hospitals loaded...
INFO:src.csv_loader:Progress: 14400 hospitals loaded...
INFO:src.csv_loader:Progress: 14500 hospitals loaded...
INFO:src.csv_loader:Progress: 14600 hospitals loaded...
INFO:src.csv_loader:Progress: 14700 hospitals loaded...
INFO:src.csv_loader:Progress: 14800 hospitals loaded...
INFO:src.csv_loader:Progress: 14900 hospitals loaded...
INFO:src.csv_loader:Progress: 15000 hospitals loaded...
INFO:src.csv_loader:Progress: 15100 hospitals loaded...
INFO:src.csv_loader:Progress: 15200 hospitals loaded...
INFO:src.csv_loader:Progress: 15300 hospitals loaded...
INFO:src.csv_loader:âœ… Successfully loaded 15368 hospitals from BPJS Faskes CSV
INFO:src.csv_loader:   Skipped: 2169 records
INFO:__main__:Loading: Dataset Rasio Bed to Population Faskes II.zip
INFO:src.csv_loader:Loading BPJS Faskes data from C:\Users\myaasiinh\Vscode\tubes-biomedis-tema2-smart-rujuk-agent-ai\data\kaggle_datasets\Dataset Rasio Bed to Population Faskes II.zip
INFO:src.csv_loader:Detected ZIP file, extracting CSV files...
INFO:src.csv_loader:Found 2 CSV file(s) in ZIP: Rasio Bed To Population Rumah Sakit Kelas C dan D tiap Provinsi Di Indonesia.csv, data_rs.csv
INFO:src.csv_loader:Processing extracted file: Rasio Bed To Population Rumah Sakit Kelas C dan D tiap Provinsi Di Indonesia.csv
INFO:src.csv_loader:Successfully read CSV with utf-8 encoding
INFO:src.csv_loader:Loaded 34 rows from CSV
INFO:src.csv_loader:Columns: Provinsi, Total Tempat Tidur, Jumlah Penduduk, Rasio
ERROR:src.csv_loader:âŒ Error loading CSV: Required columns 'name' or 'address' not found in CSV   
INFO:src.csv_loader:Processing extracted file: data_rs.csv
INFO:src.csv_loader:Successfully read CSV with utf-8 encoding
INFO:src.csv_loader:Loaded 2925 rows from CSV
INFO:src.csv_loader:Columns: d.kode_rs, d.nama_rs, d.nama_prop, d.jenis_rs, d.kelas, d.pemilik, (d.total_tt)
ERROR:src.csv_loader:âŒ Error loading CSV: Required columns 'name' or 'address' not found in CSV   
INFO:__main__:Loading: list-faskes-bpjs.zip
INFO:src.csv_loader:Loading BPJS Faskes data from C:\Users\myaasiinh\Vscode\tubes-biomedis-tema2-smart-rujuk-agent-ai\data\kaggle_datasets\list-faskes-bpjs.zip
INFO:src.csv_loader:Detected ZIP file, extracting CSV files...
INFO:src.csv_loader:Found 1 CSV file(s) in ZIP: Data Faskes BPJS 2019.csv
INFO:src.csv_loader:Processing extracted file: Data Faskes BPJS 2019.csv
INFO:src.csv_loader:Successfully read CSV with utf-8 encoding
INFO:src.csv_loader:Loaded 29157 rows from CSV
INFO:src.csv_loader:Columns: NoLink, Provinsi, KotaKab, Link, TipeFaskes, No, KodeFaskes, NamaFaskes, LatLongFaskes, AlamatFaskes, TelpFaskes
INFO:src.csv_loader:Filtered from 29157 to 17537 rows by facility type
INFO:src.csv_loader:âœ… Successfully loaded 0 hospitals from BPJS Faskes CSV
INFO:src.csv_loader:   Skipped: 17537 records
INFO:__main__:âœ… Loaded 15368 hospitals from BPJS Faskes dataset
INFO:__main__:
============================================================
INFO:__main__:Loading Bed Ratio Dataset
INFO:__main__:============================================================
INFO:__main__:Loading: Rasio Bed To Population Rumah Sakit Kelas C dan D tiap Provinsi Di Indonesia.csv
INFO:src.csv_loader:Loading bed ratio data from C:\Users\myaasiinh\Vscode\tubes-biomedis-tema2-smart-rujuk-agent-ai\data\kaggle_datasets\Rasio Bed To Population Rumah Sakit Kelas C dan D tiap Provinsi Di Indonesia.csv
INFO:src.csv_loader:Successfully updated 0 hospitals with bed ratio data
INFO:__main__:âœ… Updated 0 hospitals with bed ratio data
INFO:__main__:
============================================================
INFO:__main__:Generating Training Data for ML Models
INFO:__main__:============================================================
INFO:__main__:Generating 500 training records for 15368 hospitals...
INFO:__main__:âœ… Generated 500 wait time records
INFO:__main__:âœ… Generated 250 capacity records
INFO:__main__:
============================================================
INFO:__main__:Training ML Models
INFO:__main__:============================================================
Model trained with 500 samples
INFO:__main__:âœ… ML models trained successfully
INFO:__main__:
============================================================
INFO:__main__:Data Loading Summary
INFO:__main__:============================================================
INFO:__main__:
ðŸ“Š Database Statistics:
INFO:__main__:   Total Facilities: 15368
INFO:__main__:   - Rumah Sakit: 1878
INFO:__main__:   - Puskesmas: 9185
INFO:__main__:   - Klinik: 4305
INFO:__main__:
ðŸ“ˆ Training Data:
INFO:__main__:   Wait Time Records: 500
INFO:__main__:   Capacity Records: 250
INFO:__main__:
âœ… Pipeline Statistics:
INFO:__main__:   Datasets Loaded: 2
INFO:__main__:   Total Records Processed: 15368
INFO:__main__:   Training Data Generated: 500
INFO:__main__:
ðŸ“‹ Loader Statistics:
INFO:__main__:   Total Processed: 35074
INFO:__main__:   Successfully Inserted: 15368
INFO:__main__:   Updated: 0
INFO:__main__:   Skipped: 19706
INFO:__main__:
============================================================
INFO:__main__:âœ… Pipeline completed successfully!
INFO:__main__:============================================================
INFO:__main__:
Next steps:
INFO:__main__:1. Run the application: streamlit run app.py
INFO:__main__:2. Or verify the system: python verify_system.py
INFO:__main__:============================================================
PS C:\Users\myaasiinh\Vscode\tubes-biomedis-tema2-smart-rujuk-agent-ai> streamlit run app.py       

  You can now view your Streamlit app in your browser.

  Local URL: http://localhost:8501
  Network URL: http://192.168.1.9:8501

INFO:googlemaps.client:API queries_quota: 60
INFO:src.maps_api:Google Maps API initialized successfully
INFO:mysql.connector:package: mysql.connector.plugins
INFO:mysql.connector:plugin_name: mysql_native_password
INFO:mysql.connector:AUTHENTICATION_PLUGIN_CLASS: MySQLNativePasswordAuthPlugin
C:\Users\myaasiinh\Vscode\tubes-biomedis-tema2-smart-rujuk-agent-ai\app.py:539: DeprecationWarning:

folium_static is deprecated and will be removed in a future release, or
simply replaced with with st_folium which always passes
returned_objects=[] to the component.
Please try using st_folium instead, and
post an issue at https://github.com/randyzwitch/streamlit-folium/issues
if you experience issues with st_folium.

  folium_static(m, width=1000, height=400)
Model trained with 500 samples
2025-10-10 21:09:12.999 Examining the path of torch.classes raised:
Traceback (most recent call last):
  File "C:\Python313\Lib\site-packages\streamlit\watcher\local_sources_watcher.py", line 217, in get_module_paths
    potential_paths = extract_paths(module)
  File "C:\Python313\Lib\site-packages\streamlit\watcher\local_sources_watcher.py", line 210, in <lambda>
    lambda m: list(m.__path__._path),
                   ^^^^^^^^^^^^^^^^
  File "C:\Users\myaasiinh\AppData\Roaming\Python\Python313\site-packages\torch\_classes.py", line 13, in __getattr__
    proxy = torch._C._get_custom_class_python_wrapper(self.name, attr)
RuntimeError: Tried to instantiate class '__path__._path', but it does not exist! Ensure that it is registered via torch::class_
C:\Users\myaasiinh\Vscode\tubes-biomedis-tema2-smart-rujuk-agent-ai\app.py:539: DeprecationWarning:

folium_static is deprecated and will be removed in a future release, or
simply replaced with with st_folium which always passes
returned_objects=[] to the component.
Please try using st_folium instead, and
post an issue at https://github.com/randyzwitch/streamlit-folium/issues
if you experience issues with st_folium.

  folium_static(m, width=1000, height=400)
